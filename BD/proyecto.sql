--------------------------------------------------------
-- Archivo creado  - domingo-julio-18-2021   
--------------------------------------------------------
--------------------------------------------------------
--  DDL for Sequence AI_FACTURA
--------------------------------------------------------

   CREATE SEQUENCE  "PROYECTO"."AI_FACTURA"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE  NOPARTITION ;
--------------------------------------------------------
--  DDL for Sequence AI_KARDEX
--------------------------------------------------------

   CREATE SEQUENCE  "PROYECTO"."AI_KARDEX"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 61 CACHE 20 NOORDER  NOCYCLE  NOPARTITION ;
--------------------------------------------------------
--  DDL for Sequence AI_PRODUCTO
--------------------------------------------------------

   CREATE SEQUENCE  "PROYECTO"."AI_PRODUCTO"  MINVALUE 1 MAXVALUE 9999999999999999999999999999 INCREMENT BY 1 START WITH 141 CACHE 20 NOORDER  NOCYCLE  NOPARTITION ;
--------------------------------------------------------
--  DDL for Table DETALLE_FACTURA
--------------------------------------------------------

  CREATE TABLE "PROYECTO"."DETALLE_FACTURA" 
   (	"ID_FACTURA" NUMBER, 
	"ID_PRODUCTO" NUMBER, 
	"CANTIDAD" NUMBER(6,2), 
	"PRECIOUNIT" NUMBER(6,1), 
	"PRECIO" NUMBER(6,1)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table FACTURA
--------------------------------------------------------

  CREATE TABLE "PROYECTO"."FACTURA" 
   (	"ID" NUMBER, 
	"CLIENTE" VARCHAR2(50 BYTE), 
	"FECHA" DATE, 
	"SUBTOTAL" NUMBER(6,2), 
	"TOTAL" NUMBER(6,2)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table KARDEX
--------------------------------------------------------

  CREATE TABLE "PROYECTO"."KARDEX" 
   (	"ID" NUMBER, 
	"PRODUCTO" VARCHAR2(50 BYTE), 
	"FECHA" DATE, 
	"ACCION" VARCHAR2(100 BYTE)
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Table PRODUCTO
--------------------------------------------------------

  CREATE TABLE "PROYECTO"."PRODUCTO" 
   (	"ID" NUMBER, 
	"PRODUCTO" VARCHAR2(50 BYTE), 
	"PRECIO" NUMBER(6,2), 
	"DESCRIPCION" VARCHAR2(100 BYTE), 
	"CANTIDAD" NUMBER
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for View V_DETALLE_FACTURA
--------------------------------------------------------

  CREATE OR REPLACE FORCE EDITIONABLE VIEW "PROYECTO"."V_DETALLE_FACTURA" ("PRODUCTO", "CANTIDAD", "PRECIOUNIT", "PRECIO") AS 
  SELECT PR.PRODUCTO, DE.CANTIDAD, DE.PRECIOUNIT, DE.PRECIO 
FROM DETALLE_FACTURA DE INNER JOIN PRODUCTO PR ON PR.ID = DE.ID_PRODUCTO;
REM INSERTING into PROYECTO.DETALLE_FACTURA
SET DEFINE OFF;
Insert into PROYECTO.DETALLE_FACTURA (ID_FACTURA,ID_PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('45','81','2','10','20');
Insert into PROYECTO.DETALLE_FACTURA (ID_FACTURA,ID_PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('45','81','1','10','20');
Insert into PROYECTO.DETALLE_FACTURA (ID_FACTURA,ID_PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('45','1','1','10','20');
Insert into PROYECTO.DETALLE_FACTURA (ID_FACTURA,ID_PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('21','2','1','10','20');
Insert into PROYECTO.DETALLE_FACTURA (ID_FACTURA,ID_PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('21','2','1','10','20');
REM INSERTING into PROYECTO.FACTURA
SET DEFINE OFF;
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('45','Arely Benavidez',to_date('18/07/2021','DD/MM/RRRR'),'100','112');
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('21','David Millán',to_date('17/07/2021','DD/MM/RRRR'),'100','112');
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('22','Kevin Pillacela',to_date('17/07/2021','DD/MM/RRRR'),'80','100');
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('23','Joel Cujilema',to_date('17/07/2021','DD/MM/RRRR'),'300','320');
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('24','Joseph Alejandro',to_date('17/07/2021','DD/MM/RRRR'),'320','350');
Insert into PROYECTO.FACTURA (ID,CLIENTE,FECHA,SUBTOTAL,TOTAL) values ('25','Gustavo Hidalgo',to_date('17/07/2021','DD/MM/RRRR'),'450','460');
REM INSERTING into PROYECTO.KARDEX
SET DEFINE OFF;
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('41','Monitor',to_date('18/07/2021','DD/MM/RRRR'),'SE INGRESARON 2 ARTÍCULOS.');
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('42','Monitor',to_date('18/07/2021','DD/MM/RRRR'),'SE INGRESARON 1 ARTÍCULOS.');
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('43','celular huawei 2',to_date('18/07/2021','DD/MM/RRRR'),'SE INGRESARON 1 ARTÍCULOS.');
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('44','Tablet',to_date('17/07/2021','DD/MM/RRRR'),'SE INGRESARON 1 ARTÍCULOS.');
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('45','Tablet',to_date('17/07/2021','DD/MM/RRRR'),'SE VENDIERON 1 ARTÍCULOS.');
Insert into PROYECTO.KARDEX (ID,PRODUCTO,FECHA,ACCION) values ('21','Celular',to_date('17/07/2021','DD/MM/RRRR'),'Se vendieron 2 artículos');
REM INSERTING into PROYECTO.PRODUCTO
SET DEFINE OFF;
Insert into PROYECTO.PRODUCTO (ID,PRODUCTO,PRECIO,DESCRIPCION,CANTIDAD) values ('81','Monitor','500','Color negro','4');
Insert into PROYECTO.PRODUCTO (ID,PRODUCTO,PRECIO,DESCRIPCION,CANTIDAD) values ('1','celular huawei 2','210','Color blanco','10');
Insert into PROYECTO.PRODUCTO (ID,PRODUCTO,PRECIO,DESCRIPCION,CANTIDAD) values ('2','Tablet','550,75','Samsung color blanco','8');
REM INSERTING into PROYECTO.V_DETALLE_FACTURA
SET DEFINE OFF;
Insert into PROYECTO.V_DETALLE_FACTURA (PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('Monitor','2','10','20');
Insert into PROYECTO.V_DETALLE_FACTURA (PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('Monitor','1','10','20');
Insert into PROYECTO.V_DETALLE_FACTURA (PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('celular huawei 2','1','10','20');
Insert into PROYECTO.V_DETALLE_FACTURA (PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('Tablet','1','10','20');
Insert into PROYECTO.V_DETALLE_FACTURA (PRODUCTO,CANTIDAD,PRECIOUNIT,PRECIO) values ('Tablet','1','10','20');
--------------------------------------------------------
--  DDL for Index SYS_C0010384
--------------------------------------------------------

  CREATE UNIQUE INDEX "PROYECTO"."SYS_C0010384" ON "PROYECTO"."PRODUCTO" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C0010385
--------------------------------------------------------

  CREATE UNIQUE INDEX "PROYECTO"."SYS_C0010385" ON "PROYECTO"."FACTURA" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  DDL for Index SYS_C0010386
--------------------------------------------------------

  CREATE UNIQUE INDEX "PROYECTO"."SYS_C0010386" ON "PROYECTO"."KARDEX" ("ID") 
  PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;
--------------------------------------------------------
--  Constraints for Table FACTURA
--------------------------------------------------------

  ALTER TABLE "PROYECTO"."FACTURA" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table KARDEX
--------------------------------------------------------

  ALTER TABLE "PROYECTO"."KARDEX" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Constraints for Table PRODUCTO
--------------------------------------------------------

  ALTER TABLE "PROYECTO"."PRODUCTO" ADD PRIMARY KEY ("ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE;
--------------------------------------------------------
--  Ref Constraints for Table DETALLE_FACTURA
--------------------------------------------------------

  ALTER TABLE "PROYECTO"."DETALLE_FACTURA" ADD CONSTRAINT "FK_IDFACTURA" FOREIGN KEY ("ID_FACTURA")
	  REFERENCES "PROYECTO"."FACTURA" ("ID") ENABLE;
  ALTER TABLE "PROYECTO"."DETALLE_FACTURA" ADD CONSTRAINT "FK_IDPRODUCTO" FOREIGN KEY ("ID_PRODUCTO")
	  REFERENCES "PROYECTO"."PRODUCTO" ("ID") ENABLE;
--------------------------------------------------------
--  DDL for Trigger INCREMENTAR_ID
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "PROYECTO"."INCREMENTAR_ID" 
BEFORE INSERT ON PRODUCTO
FOR EACH ROW
BEGIN
SELECT ai_producto.NEXTVAL INTO :NEW.id FROM DUAL;
END;
/
ALTER TRIGGER "PROYECTO"."INCREMENTAR_ID" ENABLE;
--------------------------------------------------------
--  DDL for Trigger INCREMENTAR_ID_FACT
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "PROYECTO"."INCREMENTAR_ID_FACT" 
BEFORE INSERT ON FACTURA
FOR EACH ROW
BEGIN
SELECT ai_factura.NEXTVAL INTO :NEW.id FROM DUAL;
END;
/
ALTER TRIGGER "PROYECTO"."INCREMENTAR_ID_FACT" ENABLE;
--------------------------------------------------------
--  DDL for Trigger INCREMENTAR_ID_KARDEX
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "PROYECTO"."INCREMENTAR_ID_KARDEX" 
BEFORE INSERT ON KARDEX
FOR EACH ROW
BEGIN
SELECT ai_kardex.NEXTVAL INTO :NEW.id FROM DUAL;
END;
/
ALTER TRIGGER "PROYECTO"."INCREMENTAR_ID_KARDEX" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_CONTROL_KARDEX
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "PROYECTO"."TRIGGER_CONTROL_KARDEX" 
AFTER INSERT OR UPDATE OR DELETE ON DETALLE_FACTURA FOR EACH ROW
  DECLARE   
  nombre_producto varchar2(50 byte);
  fecha_factura date;  
  cantidad_producto varchar2(50 byte);
  BEGIN    
  nombre_producto := '';
  fecha_factura := '';  
  cantidad_producto :=  '';
  SELECT cast(:new.CANTIDAD As VARCHAR2(50)) INTO cantidad_producto FROM dual;
  
    select PRODUCTO.PRODUCTO into nombre_producto FROM producto WHERE producto.id = :new.ID_PRODUCTO;
    select FACTURA.FECHA into fecha_factura FROM FACTURA WHERE factura.id = :new.ID_FACTURA;    
    
    IF INSERTING THEN        
    INSERT INTO KARDEX (PRODUCTO, FECHA, ACCION) VALUES(nombre_producto, fecha_factura, 'SE VENDIERON ' || cantidad_producto || ' ARTÍCULOS.' );    
    END IF;
    IF UPDATING THEN    
    INSERT INTO KARDEX (PRODUCTO, FECHA, ACCION) VALUES(nombre_producto, fecha_factura, 'SE VENDIERON ' || cantidad_producto || ' ARTÍCULOS.');    
    END IF;
    IF DELETING THEN    
    INSERT INTO KARDEX (PRODUCTO, FECHA, ACCION) VALUES(nombre_producto, fecha_factura, 'SE VENDIERON ' || cantidad_producto || ' ARTÍCULOS.');    
    END IF;
END;
/
ALTER TRIGGER "PROYECTO"."TRIGGER_CONTROL_KARDEX" ENABLE;
--------------------------------------------------------
--  DDL for Trigger TRIGGER_CONTROL_STOCK
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE TRIGGER "PROYECTO"."TRIGGER_CONTROL_STOCK" AFTER INSERT ON DETALLE_FACTURA FOR EACH ROW
  DECLARE 
  BEGIN
    UPDATE PRODUCTO 
    SET CANTIDAD = CANTIDAD - :new.CANTIDAD
    WHERE PRODUCTO.ID = :new.ID_PRODUCTO;    
END;
/
ALTER TRIGGER "PROYECTO"."TRIGGER_CONTROL_STOCK" ENABLE;
--------------------------------------------------------
--  DDL for Function PRODUCTO_MAS_VENDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "PROYECTO"."PRODUCTO_MAS_VENDIDO" 
RETURN VARCHAR IS
PRODUCTO_ID NUMBER;
PRODUCTO_NOMBRE VARCHAR(50);
CANTIDAD NUMBER;
MENSAJE VARCHAR(50);
BEGIN
  SELECT ID_PRODUCTO AS PRODUCTO, SUM(CANTIDAD) INTO PRODUCTO_ID, CANTIDAD FROM DETALLE_FACTURA GROUP BY ID_PRODUCTO ORDER BY SUM(CANTIDAD) DESC FETCH FIRST 1 ROW ONLY;
  SELECT PRODUCTO INTO PRODUCTO_NOMBRE FROM PRODUCTO WHERE ID = PRODUCTO_ID;
  MENSAJE := PRODUCTO_NOMBRE || ' Cantidad: ' || CANTIDAD;
  RETURN MENSAJE;
END;

/
--------------------------------------------------------
--  DDL for Function PRODUCTO_MENOS_VENDIDO
--------------------------------------------------------

  CREATE OR REPLACE EDITIONABLE FUNCTION "PROYECTO"."PRODUCTO_MENOS_VENDIDO" 
RETURN VARCHAR IS
PRODUCTO_ID NUMBER;
PRODUCTO_NOMBRE VARCHAR(50);
CANTIDAD NUMBER;
MENSAJE VARCHAR(50);
BEGIN
  SELECT ID_PRODUCTO AS PRODUCTO, SUM(CANTIDAD) INTO PRODUCTO_ID, CANTIDAD FROM DETALLE_FACTURA GROUP BY ID_PRODUCTO ORDER BY SUM(CANTIDAD) ASC FETCH FIRST 1 ROW ONLY;
  SELECT PRODUCTO INTO PRODUCTO_NOMBRE FROM PRODUCTO WHERE ID = PRODUCTO_ID;
  MENSAJE := PRODUCTO_NOMBRE || ' Cantidad: ' || CANTIDAD;
  RETURN MENSAJE;
END;

/
--------------------------------------------------------
--  DDL for Procedure ACTUALIZAR_PRODUCTO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "PROYECTO"."ACTUALIZAR_PRODUCTO" (id1 NUMBER, producto1 VARCHAR2, precio1 NUMBER, descripcion1 VARCHAR2, cantidad1 NUMBER)
is
begin
  IF (precio1 > 0 AND cantidad1 >= 0) THEN
        UPDATE PRODUCTO SET PRODUCTO=producto1, PRECIO=precio1, DESCRIPCION=descripcion1, CANTIDAD=cantidad1 WHERE ID=id1;
    DBMS_OUTPUT.PUT_LINE('PRODUCTO MODIFICADO EXISTOSAMENTE');
    COMMIT;
  ELSE 
      DBMS_OUTPUT.PUT_LINE('MODIFICACIÃN NO VALIDA');
  END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure INSERTAR_DETALLEFACTURA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "PROYECTO"."INSERTAR_DETALLEFACTURA" (id_factura NUMBER, id_producto NUMBER, cantidad NUMBER, preciounit NUMBER, precio NUMBER)
is
begin
  IF (cantidad > 0 AND preciounit > 0 AND precio > 0) THEN
    INSERT INTO DETALLE_FACTURA (ID_FACTURA, ID_PRODUCTO, CANTIDAD, PRECIOUNIT, PRECIO) VALUES (id_factura, id_producto, cantidad, preciounit, precio);
    DBMS_OUTPUT.PUT_LINE('DETALLE FACTURA INGRESADO EXISTOSAMENTE');
    COMMIT;
  ELSE 
      DBMS_OUTPUT.PUT_LINE('ERROR AL INSERTAR!');
  END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure INSERTAR_FACTURA
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "PROYECTO"."INSERTAR_FACTURA" (cliente VARCHAR2, subtotal NUMBER, total NUMBER)
is
begin
  IF (total > 0) THEN
    INSERT INTO FACTURA (CLIENTE, FECHA, SUBTOTAL, TOTAL) VALUES (cliente, SYSDATE, subtotal, total);
    DBMS_OUTPUT.PUT_LINE('FACTURA INGRESADA EXISTOSAMENTE');
    COMMIT;
  ELSE 
      DBMS_OUTPUT.PUT_LINE('ERROR AL INSERTAR!');
  END IF;
END;

/
--------------------------------------------------------
--  DDL for Procedure INSERTAR_PRODUCTO
--------------------------------------------------------
set define off;

  CREATE OR REPLACE EDITIONABLE PROCEDURE "PROYECTO"."INSERTAR_PRODUCTO" (producto VARCHAR2, precio NUMBER, descripcion VARCHAR2, cantidad NUMBER)
is
begin
  IF (precio > 0 AND cantidad >= 0) THEN
    INSERT INTO PRODUCTO (PRODUCTO, PRECIO, DESCRIPCION, CANTIDAD) VALUES (producto, precio, descripcion, cantidad);
    DBMS_OUTPUT.PUT_LINE('PRODUCTO INGRESADO EXISTOSAMENTE');
    COMMIT;
  ELSE 
      DBMS_OUTPUT.PUT_LINE('ERROR AL INSERTAR!');
  END IF;
END;

/
